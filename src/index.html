<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Libreria ICPF</title>

    <!-- Estilos -->
    <link rel="stylesheet" href="./assets/css/index.css">
</head>

<body>

    <div id="bodyDiv">
        <div id="divLeft">
            <div id="divClient">
                <!-- Base de Datosr-->
                <div id="secondDivClient" class="mainDivLeft">
                    <div id="divTitleDB">
                        <h2>Base de Datos</h2>
                        <div id="menuDB">
                            <ul>
                                <li id="ventaButton">Venta</li>
                                <li id="stadsButton">Estadísticas</li>
                                <li id="logoutButton" style="white-space: nowrap; margin-left: 5%;">Cerrar Sesión</li>
                            </ul>
                        </div>
                    </div>
                    <div id="firstDivDB">
                        <label for="buscarTituloDB">Buscar por Título:</label>
                        <input type="text" name="buscarTituloDB" id="buscarTituloDB"
                            placeholder="Buscar Libro por Título" autocomplete="off">
                    </div>
                    <div class="divTableDB">
                        <table class="tableDB">
                            <thead class="tableHeadDB">
                                <tr>
                                    <th id="tablePrecio">Precio</th>
                                    <th id="tableStock">Stock</th>
                                    <th id="tableTitulo">Título</th>
                                    <th id="tableAutor">Autor/es</th>
                                    <th id="tableCategoria">Categorías</th>
                                </tr>
                            </thead>
                            <tbody class="tableBodyDB">
                            </tbody>
                        </table>

                    </div>
                </div>
            </div>

            <div id="divAuthor">
                <!-- Crear Autor-->
                <div id="divCreateAuthor" class="mainDiv">
                    <h2>Crear Autor</h2>
                    <form action="/autores" method="post" id="formCreateAuthor" enctype="multipart/form-data">
                        <label for="nombreCreateAuthor" class="labelCreateAuthor">
                            Nombre:
                        </label>
                        <input type="text" id="nombreCreateAuthor" name="nombreCreateAuthor" required maxlength="100"
                            autocomplete="off">

                        <label for="apellidosCreateAuthor" class="labelCreateAuthor">
                            Apellidos:
                        </label>
                        <input type="text" id="apellidosCreateAuthor" name="apellidosCreateAuthor" required
                            maxlength="100" autocomplete="off">

                        <label for="imagenCreateAuthor" class="labelCreateAuthor">
                            Imagen: <div style="display: inline; color: gray;">(Vertical / Retrato)</div>
                        </label>
                        <div id="imagenButtonCreateAuthor" class="imageButton">
                            Seleccionar Imagen
                        </div>
                        <input type="file" accept="image/*" id="imagenCreateAuthor" name="imagenCreateAuthor" required
                            maxlength="500" style="display: none;" autocomplete="off">

                        <label for="descripcionCreateAuthor" class="labelCreateAuthor">
                            Descripción:
                        </label>
                        <textarea type="text" id="descripcionCreateAuthor" class="descripcionTextArea"
                            name="descripcionCreateAuthor" required maxlength="1000"></textarea>

                        <button type="submit">Crear Autor</button>
                        <div id="messageCreateAuthor" class="message"></div>
                    </form>
                </div>

                <!-- Modificar Author -->
                <div id="divModAuthor" class="mainDiv">
                    <h2>Modificar Autor</h2>
                    <form action="/autores" method="post" id="formModAuthor">
                        <label for="nombreModAuthor">
                            Nombre:
                        </label>
                        <input type="text" id="nombreModAuthor" name="nombreModAuthor" required maxlength="100" disabled
                            autocomplete="off">

                        <label for="apellidosModAuthor">
                            Apellidos: <div style="display: inline; color: rgb(0, 119, 255);">(Buscar Autor)</div>
                        </label>
                        <input type="text" id="apellidosModAuthor" placeholder="Buscar Autor por apellidos"
                            name="apellidosModAuthor" required maxlength="100" autocomplete="off">
                        <ul id="searchResultsModAuthor" class="listAuthorUl"
                            style="list-style-type: none; padding: 0px;"></ul>

                        <label for="imagenModAuthor">
                            Imagen: <div style="display: inline; color: gray;">(Vertical / Retrato)</div>
                        </label>
                        <div id="imagenButtonModAuthor" class="imageButton">
                            Seleccionar Imagen
                        </div>
                        <input type="file" accept="image/*" id="imagenModAuthor" name="imagenModAuthor" disabled
                            maxlength="500" style="display: none;" autocomplete="off">
                        <img id="imageVisualization" style="display: flex;">

                        <label for="descripcionModAuthor">
                            Descripción:
                        </label>
                        <textarea type="text" id="descripcionModAuthor" class="descripcionTextArea"
                            name="descripcionModAuthor" required maxlength="1000" disabled></textarea>

                        <button type="submit">Modificar Autor</button>
                        <div id="messageModAuthor" class="message"></div>
                    </form>
                </div>
            </div>
        </div>

        <div id="divBook">
            <!-- Crear Libro -->
            <div id="divCreateBook" class="mainDiv">
                <h2>Crear Libro</h2>
                <form action="/autores" method="post" id="formCreateBook">
                    <div class="divFormOut">
                        <div class="divFormLeft">
                            <label for="tituloCreateBook" class="labelCreateAuthor">
                                Título:
                            </label>
                            <input type="text" id="tituloCreateBook" name="tituloCreateBook" required maxlength="500"
                                autocomplete="off">

                            <label for="autorCreateBook" class="labelCreateAuthor">
                                Autor: <div style="display: inline; color: rgb(0, 119, 255);">(Buscar Autor por
                                    Apellidos)
                                </div>
                            </label>
                            <div class="divInputButton">
                                <input type="text" id="autorCreateBook" placeholder="Buscar Autor por apellidos"
                                    name="autorCreateBook" maxlength="200" autocomplete="off">
                                <button id="buttonPlusAuthorCreateBook" class="buttonPlus" tabindex="1">+</button>
                            </div>
                            <ul id="searchResultsCreateBook" class="listAuthorUl"
                                style="list-style-type: none; padding: 0px;"></ul>

                            <label for="paginasCreateBook" class="labelCreateAuthor">
                                Nª de Páginas:
                            </label>
                            <input type="number" inputmode="numeric" id="paginasCreateBook" name="paginasCreateBook"
                                required step="1" autocomplete="off">
                            <label for="cantidadCreateBook" class="labelCreateAuthor">
                                Cantidad en Stock:
                            </label>
                            <input type="number" inputmode="numeric" id="cantidadCreateBook" name="cantidadCreateBook"
                                required autocomplete="off" step="1">
                        </div>
                        <div class="divFormRight">
                            <label for="precioCreateBook" class="labelCreateAuthor">
                                Precio:
                            </label>
                            <input type="number" inputmode="decimal" step="0.01" id="precioCreateBook"
                                name="precioCreateBook" required autocomplete="off">
                            <fieldset id="fieldsetCategoriaCreateBook" class="fieldsetCategoria">
                                <legend class="labelCreateAuthor">Categoria/s:</legend>
                            </fieldset>
                        </div>
                    </div>
                    <label for="imagenCreateBook" class="labelCreateAuthor">
                        Imagen: <div style="display: inline; color: gray;">(Vertical / Retrato)</div>
                    </label>
                    <div id="imagenButtonCreateBook" class="imageButton">
                        Seleccionar Imagen
                    </div>
                    <input type="file" accept="image/*" id="imagenCreateBook" name="imagenCreateBook" maxlength="500"
                        style="display: none;" autocomplete="off">
                    <img id="imageVisualization" style="display: none;">

                    <label for="descripcionCreateBook" class="labelCreateAuthor">
                        Descripción:
                    </label>
                    <textarea type="text" id="descripcionCreateBook" class="descripcionTextArea textAreaBook"
                        name="descripcionCreateBook" required maxlength="1000"></textarea>

                    <button type="submit">Crear Libro</button>
                    <div id="messageCreateBook" class="message"></div>
                </form>
            </div>

            <!-- Modificar Libro -->
            <div id="divModBook" class="mainDiv">
                <h2>Modificar Libro</h2>
                <form action="/autores" method="post" id="formModBook">
                    <div class="divFormOut">
                        <div class="divFormLeft">
                            <label for="tituloModBook">
                                Título: <div style="display: inline; color: rgb(0, 119, 255);">(Buscar Libro por
                                    Título)
                                </div>
                            </label>
                            <input type="text" id="tituloModBook" name="tituloModBook" required maxlength="500"
                                autocomplete="off" placeholder="Buscar Libro por Título">
                            <ul id="searchResultsTitleModBook" class="listAuthorUl"
                                style="list-style-type: none; padding: 0px;"></ul>

                            <label for="autorModBook">
                                Autor: <div style="display: inline; color: rgb(0, 119, 255);">(Buscar Autor por
                                    Apellidos)
                                </div>
                            </label>
                            <div class="divInputButton">
                                <input type="text" id="autorModBook" placeholder="Buscar Autor por Apellidos"
                                    name="autorModBook" maxlength="200" autocomplete="off" disabled>
                                <button id="buttonPlusAuthorModBook" class="buttonPlus" tabindex="1">+</button>
                            </div>
                            <ul id="searchResultsModBook" class="listAuthorUl"
                                style="list-style-type: none; padding: 0px;"></ul>
                            <label for="paginasModBook">
                                Nª de Páginas:
                            </label>
                            <input type="number" inputmode="numeric" id="paginasModBook" name="paginasModBook" required
                                step="1" autocomplete="off" disabled>
                            <label for="cantidadModBook">
                                Cantidad en Stock:
                            </label>
                            <input type="number" inputmode="numeric" id="cantidadModBook" name="cantidadModBook"
                                required autocomplete="off" step="1" disabled>
                        </div>
                        <div class="divFormRight">
                            <label for="precioModBook">
                                Precio:
                            </label>
                            <input type="number" inputmode="decimal" step="0.01" id="precioModBook" name="precioModBook"
                                required autocomplete="off" disabled>
                            <fieldset id="fieldsetCategoriaModBook" class="fieldsetCategoria">
                                <legend>Categoria/s:</legend>
                            </fieldset>
                        </div>
                    </div>
                    <label for="imagenModBook">
                        Imagen: <div style="display: inline; color: gray;">(Vertical / Retrato)</div>
                    </label>
                    <div id="imagenButtonModBook" class="imageButton" style="color: gray;">
                        Seleccionar Imagen
                    </div>
                    <input type="file" accept="image/*" id="imagenModBook" name="imagenModBook" maxlength="500"
                        style="display: none;" autocomplete="off" disabled>
                    <img id="imageVisualizationModBook" style="display: none;">

                    <label for="descripcionModBook">
                        Descripción:
                    </label>
                    <textarea type="text" id="descripcionModBook" class="descripcionTextArea textAreaBook"
                        name="descripcionModBook" required maxlength="1000" disabled></textarea>

                    <button type="submit">Modificar Libro</button>
                    <div id="messageModBook" class="message"></div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modales -->
    <div id="modals" style="display: none;">
        <!-- Modal de Ventas -->
        <div id="modalVentas" style="display: none;">
            <div class="xButton" id="divButtonVentasX">
                <h2>Venta de Libros</h2>
                <button id="buttonVentasX">X</button>
            </div>
            <div id="divBuscarVentas">
                <label for="buscarVentas">Buscar por Título:</label>
                <div style="position: relative">
                    <input type="text" id="tituloVentas" autocomplete="off" placeholder="Buscar por Título">
                    <ul id="searchResultsVentas" class="listAuthorUl" style="list-style-type: none; padding: 0px;"></ul>
                </div>
            </div>
            <div id="divTableVentas">
                <table class="tableDB" id="tableVentas">
                    <thead class="tableHeadDB">
                        <tr>
                            <th id="tableVentasPrecio">Precio</th>
                            <th id="tableVentasStock">Stock</th>
                            <th id="tableVentasTitulo">Título</th>
                            <th id="tableVentasAutor">Autor/es</th>
                            <th id="tableVentasCantidad">Cantidad</th>
                            <th id="tableVentasEliminar">Eliminar</th>
                        </tr>
                    </thead>
                    <tbody class="tableBodyDB" id="tableBodyVentas">
                    </tbody>
                </table>
            </div>
            <div id="divSubmitVentas">
                <span>Total: <strong><span id="ventasTotal"></span> €</strong></span>
                <button id="submitVentas">Vender</button>
            </div>
        </div>

        <!-- Modal de estadísticas -->
        <div id="modalStads" style="display: none;">
            <div id="stadsLoadingDiv">
                <div class="loading-wave">
                    <div class="loading-bar"></div>
                    <div class="loading-bar"></div>
                    <div class="loading-bar"></div>
                    <div class="loading-bar"></div>
                </div>
                <div id="stadsLoadingText"><span>Cargando...</span></div>
            </div>
            <div class="xButton" id="divButtonStadsX">
                <h2>Tabla de Estadísticas</h2>
                <button id="buttonStadsX">X</button>
            </div>
            <div id="divStadsContent">
                <div id="divCanvasStads">
                    <h3>Estadísticas de Ventas</h3>
                    <canvas id="myChart"></canvas>
                    <div id="yearlyIncome">Total Anual (<span id="yearlyStadsYear"></span>): <strong><span
                                id="yearlyTotal"></span> €</strong></div>
                </div>
                <div id="divBookStads">
                    <h3>Estadísticas de Libros</h3>
                    <table class="tableDB" id="tableVentas">
                        <thead class="tableHeadDB">
                            <tr>
                                <th id="tableVentasTitulo">Título</th>
                                <th id="tableVentasEliminar">Vendidos</th>
                            </tr>
                        </thead>
                        <tbody class="tableBodyDB" id="tableStadsBooks">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script type="module" src="./assets//js/index/db.js"></script>
    <script type="module" src="./assets//js/index/orders.js"></script>
    <script type="module" src="./assets//js/index/statistics.js"></script>
    <script type="module" src="./assets/js/index/createAuthor.js"></script>
    <script type="module" src="./assets/js/index/modAuthor.js"></script>
    <script type="module" src="./assets/js/index/createBook.js"></script>
    <script type="module" src="./assets/js/index/modBook.js"></script>
    <script type="module" src="./assets/js/index/logout.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</body>

</html>